To : Debian Bug Tracking System <submit@bugs.debian.org>
Subject : Bug#872812: exim4-config: Exim configuration error in line 684 of /var/lib/exim4/config.autogenerated.tmp
From : Holger Levsen <holger@debian.org>
Date : Mon, 21 Aug 2017 16:11:07 +0200
Message-id : 20170821141107.GA6106@layer-acht.org
Reply-to : Holger Levsen <holger@debian.org>, 872812@bugs.debian.org


Package: general
Severity: serious
Hi,
I seem to recall that there was a change causing the following (which is due to
"user mail not found") but I'm unable to remember which package was that…
So I'm seeing this in various jenkins tests testing package installations:
Setting up exim4-config (4.89-5) ...
Adding system-user for exim (v4)
2017-08-21 08:40:23 Exim configuration error in line 684 of /var/lib/exim4/config.autogenerated.tmp:
  user mail was not found
Invalid new configfile /var/lib/exim4/config.autogenerated.tmp, not installing 
/var/lib/exim4/config.autogenerated.tmp to /var/lib/exim4/config.autogenerated
dpkg: error processing package exim4-config (--configure):
 subprocess installed post-installation script returned error exit status 1
Sadly those tests were not run between end of June and early August so I cannot exactly+for sure
pin-point that it started with 4.89-4… maybe it's some other package/upload to blame for this
change in behaviour. Nonetheless it's surely a serious bug, as it completly breaks
package installations.
Tests that fail are eg:
	https://jenkins.debian.net/job/chroot-installation_sid_install_design-desktop-web
	https://jenkins.debian.net/job/chroot-installation_sid_install_education-standalone/
But then, no: https://jenkins.debian.net/job/chroot-installation_buster_install_education-standalone/5/consoleFull 
is a failure with exim4-config 4.89-3, while
https:////jenkins.debian.net/job/chroot-installation_buster_install_education-standalone/4/consoleFull
also with exim4-config 4.89-3 succeeds…
so sigh, filing against general for now…
-- 
cheers,
	Holger
signature.asc