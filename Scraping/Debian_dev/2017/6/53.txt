To : debian-devel@lists.debian.org
Subject : Re: Too many Recommends (in particular on mail-transport-agent)
From : Anthony DeRobertis <anthony@derobert.net>
Date : Mon, 12 Jun 2017 12:57:22 -0400
Message-id : 20170612165721.pu5x3fb4jvbwy6v3@derobert.net
Mail-followup-to : debian-devel@lists.debian.org
In-reply-to : <[ðŸ”Ž]Â 1497018085.3477.57.camel@decadent.org.uk>
References : <[ðŸ”Ž]Â 22837.20962.266704.742188@chiark.greenend.org.uk> <[ðŸ”Ž]Â 20170606000242.333F97C6433@relay.mailchannels.net> <[ðŸ”Ž]Â 871sqyueya.fsf@hope.eyrie.org> <[ðŸ”Ž]Â 20170606135548.nmjiv5khqsdc7gfn@angband.pl> <[ðŸ”Ž]Â b0fc47a0-1fd8-d88b-5a8f-ad9b8b3faa8c@derobert.net> <[ðŸ”Ž]Â 1497018085.3477.57.camel@decadent.org.uk>


On Fri, Jun 09, 2017 at 03:21:25PM +0100, Ben Hutchings wrote:
> On Fri, 2017-06-09 at 03:02 -0400, Anthony DeRobertis wrote:
> [...]
> > firmware-linux Recommends: amd64-microcode
> > firmware-linux-nonfree Recommends: amd64-microcode
> > 
> > Â Â Â Â This machine has an Intel CPU. It should probably recommend
> > Â Â Â Â intel-microcode | amd64-microcode instead of both. Though we are
> > Â Â Â Â talking about an Installed-Size of 68 here.
> [...]
> 
> Then APT would never automatically install amd64-microcode.
True. Apt doesn't really have a good solution to that. The only thing
I've seen is 
    Recommends: cpu-microcode-all | cpu-microcode
and having a cpu-microcode-all package that Depends on both, and having
the two real package Provides cpu-microcode. If I remember correctly,
Xorg did this at one point for video drivers (maybe still does).
Of courseâ€”for the under 100K being saved here, only Rube Goldberg would
approve.