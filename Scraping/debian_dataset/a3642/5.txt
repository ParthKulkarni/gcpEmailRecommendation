To : debian-devel@lists.debian.org
Subject : Re: Naming of network devices - how to improve it in buster
From : Russell Stuart <russell-debian@stuart.id.au>
Date : Sat, 15 Jul 2017 09:49:14 +1000
Message-id : 1500076154.4300.5.camel@stuart.id.au
Reply-to : russell-debian@stuart.id.au
In-reply-to : <[ðŸ”Ž]Â 20170714142000.dvetamg5ep6talyk@khazad-dum.debian.net>
References : <[ðŸ”Ž]Â 20170710162228.v4teqev5vx3xxgj5@angband.pl>	 <[ðŸ”Ž]Â 12214332.2fR4hsN12g@merkaba>	 <[ðŸ”Ž]Â 658546a9-4ecf-18d0-4fb2-1e8d1a9c2dcc@debian.org>	 <[ðŸ”Ž]Â 20170711101459.uglna6qjj7jd5zq7@sliepen.org>	 <[ðŸ”Ž]Â 896774a5-3f5f-fa91-1a50-da892bcd0236@debian.org>	 <[ðŸ”Ž]Â E1dVJfL-0007Up-5d@swivel.zugschlus.de>	 <[ðŸ”Ž]Â 1499919749.18941.11.camel@stuart.id.au>	 <[ðŸ”Ž]Â CAOdo=SzTAwVdy_7Lf8Kg6ciE8BP3=yU0zr5XViZTOwoaUMhNbQ@mail.gmail.com>	 <[ðŸ”Ž]Â 1499940874.4694.1.camel@stuart.id.au>	 <[ðŸ”Ž]Â CAOdo=SwVSFSNhqDz=priXcKC6HgZ0JdP8qs+YnGk-mhOVtmv+g@mail.gmail.com>	 <[ðŸ”Ž]Â 20170714142000.dvetamg5ep6talyk@khazad-dum.debian.net>


On Fri, 2017-07-14 at 11:20 -0300, Henrique de Moraes Holschuh wrote:
> MOST PCI/PCIe NICs indeed use "ethX", etc.Â Â But the naming scheme
> really is device driver-specific, and the "default" name used by a
> driver is considered part of the kernel stable ABI, and cannot be
> changed on the kernel side unless it is done opt-in at kernel config
> time (kconfig) or at boot time (kernel command line, device tree,
> etc).
Which is a PITA.  Even though udev does it's best to work around it,
the advice "don't clash with the kernel's naming scheme" is excellent
advice.  It's just a shame the kernel doesn't have a well defined
naming scheme, so it's impossible to follow in the general case.
The funny thing is the despite all the heat generated by this
persistent network interface discussion, it's not a huge problem
because the tools exists to work around it.  You just have to know
where to look.
What I do get regularly bitten by is other devices changing their
names, in particular tty's coming back as different names when someone
reconnects a USB cable.  If there is a general, scriptable way around
that problem that means I don't have to say "reboot the box" I haven't
found it.signature.asc