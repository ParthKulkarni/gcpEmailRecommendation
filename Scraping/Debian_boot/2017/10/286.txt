To : Debian Bug Tracking System <submit@bugs.debian.org>
Subject : Bug#879662: apt: debian-installer FTBFS: E: Method copy has died unexpectedly!
From : Cyril Brulebois <kibi@debian.org>
Date : Tue, 24 Oct 2017 07:48:52 +0200
Message-id : 150882413228.12861.10957321933333575863.reportbug@armor.home
Reply-to : Cyril Brulebois <kibi@debian.org>, 879662@bugs.debian.org


Package: apt
Version: 1.4.8
Severity: serious
Tags: d-i
Justification: FTBFS
[ Please keep both debian-boot@ and me in copy. ]
It seems the “most secure file downloading on the planet” can no longer
copy files around:
| get-packages udeb  
| make[5]: 'sources.list.udeb' is up to date.
| Ign:1 copy:/home/kibi/debian-installer/installer/build localudebs/ InRelease
| Ign:2 copy:/home/kibi/debian-installer/installer/build localudebs/ Release
| Ign:3 copy:/home/kibi/debian-installer/installer/build localudebs/ Packages
| Ign:4 copy:/home/kibi/debian-installer/installer/build localudebs/ Translation-en
| Ign:5 copy:/home/kibi/debian-installer/installer/build localudebs/ Contents (deb)
| Ign:6 copy:/home/kibi/debian-installer/installer/build localudebs/ Contents (deb)
| Ign:7 copy:/home/kibi/debian-installer/installer/build localudebs/ Contents (udeb)
| Get:8 http://localhost/debian unstable InRelease [235 kB]
| Ign:9 copy:/home/kibi/debian-installer/installer/build localudebs/ Contents (udeb)
| Ign:3 copy:/home/kibi/debian-installer/installer/build localudebs/ Packages
| Ign:4 copy:/home/kibi/debian-installer/installer/build localudebs/ Translation-en
| Ign:5 copy:/home/kibi/debian-installer/installer/build localudebs/ Contents (deb)
| Ign:6 copy:/home/kibi/debian-installer/installer/build localudebs/ Contents (deb)
| Ign:7 copy:/home/kibi/debian-installer/installer/build localudebs/ Contents (udeb)
| Ign:9 copy:/home/kibi/debian-installer/installer/build localudebs/ Contents (udeb)
| Ign:3 copy:/home/kibi/debian-installer/installer/build localudebs/ Packages
| Ign:4 copy:/home/kibi/debian-installer/installer/build localudebs/ Translation-en
| Ign:5 copy:/home/kibi/debian-installer/installer/build localudebs/ Contents (deb)
| Ign:6 copy:/home/kibi/debian-installer/installer/build localudebs/ Contents (deb)
| Ign:7 copy:/home/kibi/debian-installer/installer/build localudebs/ Contents (udeb)
| Ign:9 copy:/home/kibi/debian-installer/installer/build localudebs/ Contents (udeb)
| Reading package lists...
| E: Method copy has died unexpectedly!
| E: Sub-process copy received signal 31.
Error reporting is a bit underwhelming. :(
This happens with this sources.list file:
| (sid-amd64-devel)kibi@wodi:~/debian-installer/installer/build$ cat sources.list.udeb 
| # This file is automatically generated, edit sources.list.udeb.local instead.
| deb [trusted=yes] copy:/home/kibi/debian-installer/installer/build/ localudebs/
| deb http://localhost/debian unstable main/debian-installer
This can be reproduced on all archs by triggering a daily build in the
debian-installer directory, in a sid chroot:
| cd build && ./daily-build build-only
KiBi.